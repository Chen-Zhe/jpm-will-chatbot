<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Visualization</title>
</head>
<script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<body>
<script>




			input_data=JSON.parse(' {{ data|safe }} ');



			var svgContainer = d3.select("body").append("svg")
                	                     .attr("width", 1000)
                	                     .attr("height",1000);




			var spaceCircles = []

            for (group=0; group<3 ;group++){

                for (index=0; index < input_data[group].length; index++){

                    spaceCircles.push([input_data[group][index][0], input_data[group][index][1]])
                }

            }




 			var circles = svgContainer.selectAll("circle")
                	           .data(spaceCircles)
                	           .enter()
                	           .append("g")
                               .attr("transform", "translate(500,500)")
                    	       .append("circle");

			var circleAttributes = circles
                	       .attr("cx", function (d) { return d[0]*2; })
                	       .attr("cy", function (d) { return d[1]*2; })
                	       .attr("r", 5)
                    	   .style("fill", "green");

            //The data for our line

            var lineData0 = []
            var lineData1 = []
            var lineData2 = []

            for (group0_index = 1; group0_index < input_data[0].length; group0_index++){

                lineData0.push([input_data[0][group0_index][0], input_data[0][group0_index][1]])
                lineData0.push([input_data[0][0][0], input_data[0][0][1]])

            }

            for (group1_index = 1; group1_index < input_data[1].length; group1_index++){

                lineData1.push([input_data[1][group1_index][0], input_data[1][group1_index][1]])
                lineData1.push([input_data[1][0][0], input_data[1][0][1]])

            }

            for (group2_index = 1; group2_index < input_data[2].length; group2_index++){

                lineData2.push([input_data[2][group2_index][0], input_data[2][group2_index][1]])
                lineData2.push([input_data[2][0][0], input_data[2][0][1]])

            }




			var g = svgContainer.append("svg:g")
    				.attr("transform", "translate(500, 500)");

           	var lineF = d3.svg.line()
                	          .x(function(d) { return d[0]*2; })
                    	      .y(function(d) { return d[1]*2; });

            g.append("svg:path").attr("d", lineF(lineData0))
                	            .attr("stroke", "purple")
                        	    .attr("stroke-width", 1.5)
                            	.attr("fill", "none");

            g.append("svg:path").attr("d", lineF(lineData1))
                	            .attr("stroke", "purple")
                        	    .attr("stroke-width", 1.5)
                            	.attr("fill", "none");

            g.append("svg:path").attr("d", lineF(lineData2))
                	            .attr("stroke", "purple")
                        	    .attr("stroke-width", 1.5)
                            	.attr("fill", "none");


           	/*var center1=input_data[0].shift()*/
            var group0=input_data[0]
           	var group1=input_data[1]
           	var group2=input_data[2]

           	var textdata=group0.concat(group1,group2)



//Add the SVG Text Element to the svgContainer
			var text = svgContainer
						.append("g")
                        .attr("transform", "translate(500,500)")
						.selectAll("text")
                        .data(textdata)
                        .enter()
                        .append("text");


//Add SVG Text Element Attributes
			var textLabels = text
                            .attr("x", function(d) { return d[0]*2; })
                            .attr("y", function(d) { return d[1]*2-5; })
                            .text( function (d) { return d[2]; })
                            .attr("font-family", "sans-serif")
                            .attr("font-size", "3px")
                            .attr("text-anchor", "middle")
                            .attr("fill", "black");









	</script>
</body>
</html>